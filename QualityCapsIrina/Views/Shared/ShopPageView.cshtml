@model ShopViewModel
<!-- Content page -->
<section class="p-t-55 p-b-65">
    <div class="row">
        <div class="col-sm-6 col-md-4 col-lg-3 pb-4 pr-5">
            <div class="leftbar pr-4 pr-sm-0">
                <h4 class="m-text14 pb-1">
                    Categories
                </h4>

                <ul class="pb-4">
                    @foreach (var category in Model.categories)
                    {
                        <li class="pt-1">
                            <a asp-controller="items"
                               asp-action="@ViewData["Title"]"
                               asp-route-category="@category.CategoryId"
                               class="s-text13 active1 @((ViewData["ActiveCategory"].ToString()==category.CategoryId.ToString())? "active":"")">
                                @category.Name
                            </a>
                        </li>
                    }
                </ul>

                <!--  -->
                <h4 class="m-text14 pb-1">
                    Filters
                </h4>

                <div class="filter-price p-t-22 p-b-50 bo3">
                    <div class="m-text15 p-b-17">
                        Price
                    </div>

                    <div class="slider-range-wrapper">
                        <div id="slider-range"></div>
                    </div>

                    <div class="flex-sb-m flex-w pt-3">
                        <div class="w-size11">
                            <!-- Button -->
                            <button id="filter-price" class="flex-c-m size4 bg7 bo-rad-15 hov1 s-text14 trans-0-4">
                                Filter
                            </button>
                        </div>
                        <div class="d-flex s-text3 pt-2 pb-2">
                            Range: <span style="color:#f6931f; font-weight: bold;">
                                        $<span id="value-lower">0</span>
                                        - $<span id="value-upper">100</span>
                                    </span>
                        </div>
                    </div>
                </div>

                <div class="search-product pos-relative bo4 of-hidden">
                    <input class="s-text7 size6 p-l-23 p-r-50" type="text" name="search-product" placeholder="Search Products...">

                    <button class="flex-c-m size5 ab-r-m color2 color0-hov trans-0-4">
                        <i class="fs-12 fa fa-search" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="col-sm-6 col-md-8 col-lg-9 p-b-50">
            <!--  -->
            <div class="flex-sb-m flex-w p-b-35">
                <div class="flex-w">
                    <div class="rs2-select2 bo4 of-hidden w-size12 m-t-5 m-b-5 m-r-10">
                        @*<select class="selection-2" name="sorting">
                            <option value="">Default Sorting</option>
                            <option value="name">Name: A to Z</option>
                            <option value="name_desc">Name: Z to A</option>
                            <option value="price">Price: low to high</option>
                            <option value="price_desc">Price: high to low</option>
                        </select>*@
                        <select class="selection-2" id="sort-selection" asp-for="sortOrder" asp-items="ViewBag.SortOrders"></select>
                    </div>

                    <div class="rs2-select2 bo4 of-hidden w-size12 m-t-5 m-b-5 m-r-10">
                        <select class="selection-2" name="sorting">
                            <option>Price</option>
                            <option>$0.00 - $50.00</option>
                            <option>$50.00 - $100.00</option>
                            <option>$100.00 - $150.00</option>
                            <option>$150.00 - $200.00</option>
                            <option>$200.00+</option>

                        </select>
                    </div>
                </div>

                <span class="s-text8 p-t-5 p-b-5">
                    Showing 1–12 of 16 results
                </span>
            </div>

            <!-- Product -->
            <div class="row">
                @foreach (var item in Model.items)
                {
                    <div class="col-sm-12 col-md-6 col-lg-4 p-b-50">
                        <!-- Block2 -->
                        <div class="block2">
                            <div class="block2-img wrap-pic-w of-hidden pos-relative">
                                <img src="@((item.ImageUrl!=null)? item.ImageUrl:"/images/no-image.png")" alt="product image">

                                <div class="block2-overlay trans-0-4">
                                    <div class="block2-controls w-size1 trans-0-4">
                                        <!-- Button -->
                                        <a asp-controller="shoppingcart" asp-action="AddToShoppingCart" asp-route-itemid="@item.ItemId"
                                           class="flex-c-m size1 bg4 bo-rad-23 hov1 s-text1 trans-0-4"
                                         >
                                            Add to Cart
                                        </a>
                                        <!-- Button -->
                                        <a asp-controller="items" asp-action="details" asp-route-id="@item.ItemId" 
                                           class="flex-c-m size1 bg4 bo-rad-23 hov1 s-text1 trans-0-4 m-t-2"
                                         >
                                            View details
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <div class="block2-txt p-t-20">
                                <a asp-controller="items" asp-action="details" asp-route-id="@item.ItemId" class="block2-name dis-block s-text3 p-b-5">
                                    @item.Name
                                </a>

                                <span class="block2-price m-text6 p-r-5">
                                    $@item.Price
                                </span>
                            </div>
                        </div>
                    </div>

                }
            </div>

            <!-- Pagination -->
            <div class="pagination flex-m flex-w p-t-26">
                <a href="#" class="item-pagination flex-c-m trans-0-4 active-pagination">1</a>
                <a href="#" class="item-pagination flex-c-m trans-0-4">2</a>
            </div>
        </div>
    </div>
</section>
<!-- Container Selection -->
<div id="dropDownSelect1"></div>
<div id="dropDownSelect2"></div>

<!--Hidden filter form-->
<form id="filtering" asp-action="@ViewData["Title"]" method="GET">
    <input type="hidden" name="category" value="@ViewData["ActiveCategory"]" />
    <input type="hidden" name="sortOrder" />
    <input type="hidden" name="minPrice" value="@ViewData["MinPrice"]"/>
    <input type="hidden" name="maxPrice" value="@ViewData["MaxPrice"]" />
</form>

